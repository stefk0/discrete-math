\chapter{Мощност на множество}

\section{Основни понятия}

\begin{itemize}
\item 
  Казваме, че едно множество $A$ е {\bf изброимо безкрайно}\index{множество!изброимо безкрайно}, ако съществува 
  биекция от $A$ върху $\Nat$.
\item
  Едно множество е {\bf изброимо}, ако е или крайно или безкрайно изброимо.
\item
  Казваме, че едно множество $A$ е {\bf неизброимо}\index{множество!неизброимо}, ако $A$ е безкрайно и {\bf не} съществува 
  биекция от $A$ върху $\Nat$.
\item
  Мощността (или броят на елементите) на едно множество $A$ е не по-голяма от мощността (или броят на елементите) на множеството $B$, 
  записваме $\abs{A} \leq \abs{B}$,
  ако съществува инекция $f:A \to B$.
\item
  Две множества $A$ и $B$ са равномощни, $|A| = |B|$, ако съществува биекция от $A$ върху $B$.
  Алтернативен запис е $A \sim B$.
\item
  Записваме $\abs{A} < \abs{B}$, ако $\abs{A} \leq \abs{B}$ и $\abs{A} \neq \abs{B}$.
\end{itemize}

\section{Изброими множества}

\begin{prop}
  Множеството $\Nat\times\Nat$ е изброимо безкрайно.
\end{prop}
\begin{proof}
  \marginpar{По-добър пример е $\pi(x,y) = \frac{1}{2}((x+y)^2+3x+y)$, защото има ясно графично представяне. Това е известно като канторово кодиране}
  Да разгледаме
  \[\pi(x,y) = 2^x(2y+1)-1.\]
  Проверете, че $\pi(x,y):\Nat\times\Nat\to\Nat$ задава биекция.
  Следователно, $\Nat\times\Nat$ е изброимо безкрайно множество.
\end{proof}
\begin{proof}
  Първо, да вземем едно произволно естествено число $z$.
  Да разгледаме единственото представяне на $z+1$ като произведение на прости числа.
  Нека 
  \[z+1 = 2^{x}p^{k_1}_{i_1}p^{k_2}_{i_2}\dots p^{k_n}_{i_n},\] като $2 < p_{i_1} < p_{i_2} < \dots < p_{i_n}$.
  Това означава, че $z' = p^{k_1}_{i_1}p^{k_2}_{i_2}\dots p^{k_n}_{i_n}$ е нечетно число и следователно съществува $y$,
  за което $2y+1 = z'$.
  Следователно, $2^x(2y+1) = z+1$ и тогава $\pi(x,y) = z$.

  Сега, нека $\pair{x,y} \neq \pair{x',y'}$.
  Интересният случай е когато $x \neq x'$ и $y \neq y'$.
  Да допуснем, че $\pi(x,y) = \pi(x',y') = z+1$.
  Това означава, че числото $z$ има две различни представяния като произведение на прости числа,
  което е противоречие.
\end{proof}

\begin{problem}
  Докажете, че следните множества са изброимо безкрайни:
  \begin{enumerate}[a)]
  \item 
    $A \cup B$, където $A$ и $B$ са изброимо безкрайни;
  \item
    $\bigcup_{i\in\Nat} A_i$, където всяко от множествата $A_i$ да е изброимо безкрайно, за $i = 0,1,2,\dots$;
  \item
    $A \times B$, където $A$ и $B$ са изброимо безкрайни;
  \item
    $A^n$, където $A$ е изброимо безкрайна азбука;
  \item
    \marginpar{Озн. $A^\star = \bigcup_{n\in\Nat}A^n$}
    $A^\star$, където $A$ е изброимо безкрайна азбука;
  \item
    $B$ - множеството от тези думи над азбуката $\{0,1\}$, които не започват с $0$, с изключение на 
    думата $0$, т.е. $B = \{0, 1, 10, 11, 100, 101, 110, 111, \dots\}$;
  \item
    $\Ps_{fin}(\Nat)$ - множеството от всички крайни подмножества от естествени числа;
  \item
    $\Ps_{fin}(A^*)$ - множеството от всички крайни подмножества на $A^*$, за произволна азбука 
    крайна или изброимо безкрайна азбука $A$;
  \item
    съвкупността от всички полиноми на една променлива с цели коефициенти;
  \item
    съвкупността от всички реални алгебрични числа (т.е. корени на полиноми с цели коефициенти).
  \end{enumerate}
\end{problem}
\begin{proof}
  \begin{enumerate}[a)]
  \item
    Щом $A \subseteq A\cup B$, то $\abs{A} \leq \abs{A\cup B}$ и следователно
    $\abs{\Nat} \leq \abs{A\cup B}$.
    Нека $f:A\to \Nat$ и $g:B\to\Nat$ са инекции.
    Функцията $h:A\cup B\to \Nat$, определена като:
    \begin{align*}
      h(x) = 
      \begin{cases}
        2f(x), & x \in A\setminus B\\
        2g(x) + 1, & \mbox{ иначе}
      \end{cases}
    \end{align*}
    също е инекция.
    Тогава $\abs{A\cup B} \leq \abs{\Nat}$ и следователно, 
    $A\cup B$ е изброимо множество. 
    Съобразете, че $A\cup B$ е също така и безкрайно.
  \item[г)]
    Нека $A = \{a_1,\dots,a_k\}$.
    Нека за всяко $n$, $A^n = \{\alpha_{n,1},\alpha_{n,2},\dots, \alpha_{n,{k^n}}\}$.
    \marginpar{\ding{45} Проверете какви свойства има функцията $f$!}
    Тогава $f(\alpha_{n,i}) = \sum_{i<n} k^i + i$.
  \item[д)]
    Нека $\kappa:\Nat \to A$ е биекция.
    Да изброим всички букви като $a_i = \kappa(i)$ за $i = 0,1,2,\dots$.
    \marginpar{\ding{45} Проверете какви свойства има функцията $f$!}
    Дефинираме инекция $f:A^\star \to \Nat$ по следния начин:
    \[
    f(\alpha) = 
    \begin{cases}
      0,                             & \text{ ако } \alpha = \varepsilon\\
      p^{i_1+1}_1p^{i_2+1}_2\dots p^{i_n+1}_n, & \text{ ако } \alpha = a_{i_1}a_{i_2}\cdots a_{i_n}.
    \end{cases}
    \]
    Това е достатъчно за да твърдим, че $A^\star$ е изброимо безкрайно множество,
    защото \[g(n) = \underbrace{aaaa\cdots aa}_{n\text{ пъти}}\]
    дава инекция от $\Nat$ в $A^\star$.
  \end{enumerate}
\end{proof}

\begin{remark}
  Напълно възможно е за две множества $A$ и $B$ да имаме, че  $B \subsetneqq A$, но $\abs{A} = \abs{B}$.
  Например, нека $A = \Nat$ и $B = \{2n\mid n\in\Nat\}$.
\end{remark}

\begin{problem}
  Нека $A$ е изброимо безкрайно множество.
  Докажете, че всяко $I \subseteq A$ е изброимо безкрайно или крайно.
\end{problem}
\begin{proof}
  Достатъчно е да разгледаме случая $A = \Nat$.
  Да разгледаме безкрайното подмножество $I \subseteq \Nat$.
  Ще построим биекция $f:\Nat \to I$.
  \begin{align*}
    f(0)   & = \min\{i \mid i \in I\}\\
    f(n+1) &= \min\{i \mid i \in I \setminus\{f(0),\dots,f(n)\}\}.
\end{align*}
\end{proof}

\section{Неизброими множества}

\begin{problem}
  Докажете, че $^\Nat\Nat = \{f \mid f:\Nat \to \Nat\}$ е неизброимо.
\end{problem}
\begin{proof}
  Ще приложим метода на диагонализацията. 
  Да допуснем, че $^\Nat\Nat$ е изброимо.
  Тогава можем да подредим в редица всички функции \[f_0,f_1,f_2,\dots.\]
  Дефинираме функция $\kappa$, като $\kappa(i) = f_i(i)+1$.
  Да допуснем, че $\kappa = f_n$, за някое $n$.
  Но $\kappa(n) = f_n(n)+1 \neq f_n(n)$, следователно стигаме до противоречие.
  Заключаваме, че $^\Nat\Nat$ е неизброимо.
\end{proof}

\begin{thm}[Кантор]
  Интервалът от реални числа $[0,1]$ е неизброим.
\end{thm}
\begin{proof}
  Да допуснем, че
  \[[0,1] = \{r_1,r_2,\dots,r_n,\dots\},\]
  т.е. можем да изброим всички реални числа в интервала $[0,1]$.
  Нека $I_0 = [0, 1]$, $a_0 = 0$, $b_0 = 1$.
  Да разгледаме интервалите $[0,1/3]$, $[1/3,2/3]$ и $[2/3,1]$ 
  и да означим като $I_1 = [a_1,b_1]$ един от тях, за който $r_1 \not\in I_1$.
  Ясно е, че $b_1-a_1 = 1/3$ и $[a_1,b_1] \subset [a_0,b_0]$.
  Продължаваме процедурата като разгледаме интервала $[a_1,b_1]$ разделен пак на три равни части.
  Избираме една от тези части $I_2 = [a_2,b_2]$, за която $r_2 \not\in [a_2,b_2]$.
  Ясно е, че $b_2-a_2 = 1/3^2$ и $[a_2,b_2] \subset [a_1,b_1]$.
  По този начин продължаваме процедурата като на стъпка $n+1$ 
  избираме интервал 
  \[I_{n+1} = [a_{n+1},b_{n+1}],\] за който $r_{n+1} \not\in [a_{n+1},b_{n+1}]$.
  Тогава $b_{n+1}-a_{n+1} = 1/3^{n+1}$ и $I_{n+1} \subset I_n$.

  Накрая получаваме безкрайна редица $\{I_n\}_{n\in\Nat}$, като имаме свойствата:
  \[(\forall n)[I_{n+1}\subset I_n],\]
  \[0\leq a_n \leq a_{n+1} < b_{n+1} \leq b_n \leq 1.\]
  Редиците $\{a_n\}$ и $\{b_n\}$ са монотонни и ограничени, следователно са сходящи 
  (т.е. съществуват $\lim_{n\to\infty} a_n$ и $\lim_{n\to\infty} b_n$).
  Освен това, от \[(\forall n)[b_n-a_n \leq 1/3^n]\] следва, че 
  \[\lim_{n\to\infty}(b_n-a_n) = 0\] и тогава съществува реално число 
  \[r = \lim_n a_n = \lim_n b_n.\]
  За това число $r$,
  \[(\forall n)[r \neq r_n],\]
  защото $r \in I_n$, но $r_n \not\in I_n$.
  Достигаме до противоречие.
  Следователно заключаваме, че не можем да подредим всички реални числа в интервала $[0,1]$
  в една редица.
\end{proof}

Представяме и друго доказателство на горната теорема.
\begin{problem}
  Докажете, че отвореният интервал от реални числа $(0,1)$ е неизброимо множество.
\end{problem}
\begin{proof}
  Да допуснем, че интервалът $(0,1)$ е изброим. Това означава, че можем да подредим всички елементи на $(0,1)$ в редица.
  Да представим всяко реално число в интервала $(0,1)$ в неговата десетична форма.
  Някои реални числа могат да имат по две десетични форми.
  Например, 
  \[0.2 = 0.1999999\dots.\]
  Нека винаги избираме тази, която започва с по-малко число, например избираме $0.1999\dots$ вместо $0.2$.
  Да подредим всички реални числа в интервала $(0,1)$ в редица:
  \begin{align*}
    r_0 & = 0.d_{00}d_{01}d_{02}\dots\\
    r_1 & = 0.d_{10}d_{11}d_{12}\dots\\
    \vdots\\
    r_n & = 0.d_{n01}d_{n1}d_{n2}\dots\\
    \vdots\\
  \end{align*}

  Да изберем две различни числа между 1 и 9. Например, 5 и 7.
  Нека 
  \begin{align*}
    k_i = 
    \begin{cases}
      5, & \mbox{ ако } d_{ii} = 7,\\
      7, & \mbox{ ако } d_{ii} \neq 7.
    \end{cases}
  \end{align*}
  Дефинираме $\kappa$ като реалното число, което има десетично представяне $0.k_0k_1k_2\dots$.
  Ясно е, че $\kappa \in (0,1)$. Ще покажем, че $\kappa \neq r_n$ за всяко $n$.
  Да отбележим, че понеже в $\kappa$ не участват редици от $0$-ли или $9$-ки, то със сигурност 
  реалното число $\kappa$ има единствено десетично представяне.
  Да допуснем, че $\kappa = r_n$, за някое $n$.
  Но $k_{nn} \neq d_{nn}$, следователно стигаме до противоречие.
  Заключаваме, че $(0,1)$ е неизброимо.
\end{proof}

\begin{remark}
  От последната задача директно следва, че множеството $\Real$ е {\em неизброимо} безкрайно.
\end{remark}

\section{Сравняване на мощности}

\begin{thm}
  Нека $A$ е множество и $\Ps(A)$ е множеството от всички подмножества на $A$.
  Докажете, че $|A| < |\Ps(A)|$.
\end{thm}
\begin{proof}
  Функцията $h:A \to \Ps(A)$ определена като $h(a) = \{a\}$ е инекция.
  Следователно, $\abs{A} \leq \abs{\Ps(A)}$.

  Да допуснем, че $\abs{A} = \abs{\Ps(A)}$, т.е. 
  съществува биекция $f:A\rightarrow \Ps(A)$.
  Да разгледаме множеството \[B=\{a\in A\ \mid a\notin f(a)\}\in\Ps(A).\]
  Щом $f$ е биекция, съществува $a_0\in A: f(a_0) = B$.
  Но тогава имаме следното:
  \begin{itemize}
  \item
    ако $a_0\in B$, то $a_0 \in f(a_0)$ и тогава $a_0\not\in B$;
  \item
    ако $a_0\not\in B$, то $a_0 \in f(a_0)$ и тогава $a_0\in B$.
  \end{itemize}
  И в двата случая достигаме до противоречие.
  Следователно не съществува биекция от $A$ върху $\Ps(A)$.
  Накрая заключаваме, че $\abs{A} < \abs{\Ps(A)}$.
\end{proof}

\begin{thm}[Кантор-Шрьодер-Бернщайн]
  \index{Кантор-Шрьодер-Бернщайн}
  \label{th:ksb}
  За всеки две множества $A$ и $B$,
  \[\abs{A}\leq\abs{B}\ \&\ \abs{B}\leq\abs{A}\ \Rightarrow\ \abs{A} = \abs{B}.\]
\end{thm}
\begin{proof}
  Без ограничение на общността, нека $A\cap B = \emptyset$.
  Нека също така да фиксираме инективни функции $f:A\rightarrow B$ и $g:B\rightarrow A$.
  Ще построим биективна функция $h:A\rightarrow B$.
  
  Понеже $g$ е инективна, то $g^{-1}$ също е (частична) функция. За $a\in A$, имаме следното:
  \[
  g^{-1}(\{a\}) = 
  \begin{cases}
    \emptyset, & a \not\in Range(g)\\
    \{b\}, & g(a) = b 
  \end{cases}
  \]
  Ако $g^{-1}(\{a\}) = \{b\}$, то наричаме $b$ {\em наследник} на $a$.
  Аналогично, понеже $f$ е инективна, то $f^{-1}$ също е (частична) функция и за $b\in B$:
  \[
  f^{-1}(\{b\}) = 
  \begin{cases}
    \emptyset, & a \not\in Range(f)\\
    \{a\}, & f(b) = a 
  \end{cases}
  \]
  Ако $f^{-1}(\{b\}) = \{a\}$, то казваме, че $a$ е {\em наследник} на $b$.
  Продължавайки същата схема, можем да се опитаме да намерим наследника на $a$ и т.н.
  За елемента $a$ имаме три възможни изхода от тази процедура:
  \begin{enumerate}[i)]
  \item
    $a$ има като последен наследник някой елемент от $A$;
  \item
    $a$ има като последен наследник някой елемент от $B$;
  \item
    $a$ има безкрайно много наследника.
\end{enumerate}
Например, следната верига
\[a \stackrel{g^{-1}}{\longrightarrow} b \stackrel{f^{-1}}{\longrightarrow}a_1 \stackrel{g^{-1}}{\longrightarrow} b_1 \stackrel{f^{-1}}{\longrightarrow}a_2\stackrel{g^{-1}}{\longrightarrow}\emptyset\]
показва, че $a \in A_1$, защото последния наследник на $a$ е елемента $a_2 \in A$.
Да означим множествата:
\begin{align*}
  A_1 = & \{a\in A \mid \mbox{ веригата с начало $a$ завършва с елемент от } A\}\\
  A_2 = & \{a\in A \mid \mbox{ веригата с начало $a$ завършва с елемент от } B\}\\
  A_3 = & \{a\in A \mid \mbox{ веригата с начало $a$ е безкрайна} \}.
\end{align*}
Лесно се съобразява, че $A_1\cup A_2\cup A_3 = A$ и 
множествата $A_1$, $A_2$ и $A_3$ нямат общи елементи.
Аналогично дефинираме:
\begin{align*}
  B_1 = & \{b\in B \mid \mbox{ веригата с начало $b$ завършва с елемент от} A\}\\
  B_2 = & \{b\in B \mid \mbox{ веригата с начало $b$ завършва с елемент от } B\}\\
  B_3 = & \{b\in B \mid \mbox{ веригата с начало $b$ е безкрайна} \}.
\end{align*}
Отново $B_1\cup B_2\cup B_3 = B$ и множествата $B_1$, $B_2$ и $B_3$ нямат общи елементи.

Да разгледаме функциите $f_i = f\upharpoonright{A_i}$ и $g_i = g\upharpoonright{B_i}$, $i = 1,2,3$. 
Лесно се съобразява, че 
\begin{align*}
  f_i:& A_i\to B_i,\\
  g_i:& B_i\to A_i.
\end{align*}
Например, нека $a \in A_1$ и $b = f(a)$. Да съобразим, че наистина $b \in B_1$.
Имаме, че $f^{-1}(\{b\}) = \{a\}$, т.е. $a$ е {\em наследник} на $b$.
Получаваме веригата:
\[b \stackrel{f^{-1}}{\longrightarrow}a \stackrel{g^{-1}}{\longrightarrow} b_1 \stackrel{f^{-1}}{\longrightarrow} a_1 \stackrel{g^{-1}}{\longrightarrow}\dots \stackrel{g^{-1}}{\longrightarrow}a' \in A\]
Това означава, че наистина $b \in B_1$.

Ясно е, че всички тези функции $f_i$, $g_i$ са инективни, $i = 1,2,3$.
За да построим биективна функция $h:A\to B$ е достатъчно да докажем, че 
поне една функция във всяка от двойките $(f_i,g_i)$, $i = 1,2,3$ е биективна.
Тогава ще получим $h$ като ,,слепим'' три такива биекции.
Кои от тях са биективни? Достатъчно е да проверим кои от тях са сюрективни.
Ще разгледаме всички шест функции.
\begin{enumerate}[i)]
\item 
  Да разгледаме $b \in B_1$. Това означава, че веригата започваща с $b$
  завършва в $A$. Следователно, съществува 
  $a \in A_1$, за който $a = f^{-1}(b)$.
  Заключаваме, че $f_1$ е сюрективна и следователно биективна.
\item
  Да разгледаме $b \in B_2$. Това означава, че веригата започваща с $b$
  завършва в $B$.
  Обаче може $b$ изобщо да няма наследници, т.е.
  възможно е $f^{-1}(\{b\}) = \emptyset$.
  Това означава, че може $Range(f_2) \subsetneqq B_2$ и
  нямаме гаранция, че $f_2$ е сюрективна.
\item
  Да разгледаме $b \in B_3$. Това означава, че веригата за $b$
  е безкрайно дълга.
  Следователно, съществува $a \in A_3$, за което $f^{-1}(b) = a$.
  Заключаваме, че $f_3$ е сюрективна и следователно биективна.
\item
  Да разгледаме $a \in A_1$. Това означава, че веригата за $a$
  завършва в $A$. 
  Обаче пак както в {\em ii)} може $a$ изобщо да няма наследници, т.е.
  $g^{-1}(\{a\}) = \emptyset$.
  Това означава, че може $Range(g_1) \subsetneqq A_1$ и 
  може $g_1$ да не е сюрективна.
\item
  Да разгледаме $a \in A_2$. Това означава, че веригата за $a$ завършва в  $B$.
  Следователно, съществува $b \in B_2$, за който $b = g^{-1}(a)$.
  Заключаваме, че $g_2$ е сюрективна и следователно биективна.
\item
  Да разгледаме $a \in A_3$. Това означава, че веригата с начало $a$ е безкрайно дълга.
  Следователно, съществува $b \in B_3$, за което $g^{-1}(a) = b$.
  Заключаваме, че $g_3$ е сюрективна и следователно.
\end{enumerate}

Накрая получаваме, че функциите $f_1,f_3$ и $g_2,g_3$ са биективни.

Да определим биекция $h:A\rightarrow B$ по следния начин:
\[
h(a) =
\begin{cases}
  f_1(a),     & \quad \text{ако $a\in A_1$}\\
  g^{-1}_2(a), & \quad \text{ако $a\in A_2$}\\
  f_3(a),     & \quad \text{ако $a\in A_3$}\\
\end{cases}
\]
Така доказахме, че множествата $A$ и $B$ са равномощни, т.е.
\[\abs{A} = \abs{B}.\]
\end{proof}

\begin{cor}
  Ако $A \subseteq B \subseteq C$ и $\abs{A} = \abs{C}$, то $\abs{B} = \abs{C}$.
\end{cor}
\begin{proof}
  Понеже $B \subseteq C$, то $\abs{B} \leq \abs{C}$.
  Понеже $\abs{C} = \abs{A}$, то съществува инекция $g:C \to A$ и $g:C\to B$ също е инекция.
  Получаваме, че $\abs{C} \leq \abs{B}$.
  Тогава от \Th{ksb} следва, че $\abs{B} = \abs{C}$.
\end{proof}

% \begin{problem}
%   Докажете, че:
%   \begin{enumerate}[a)]
%   \item 
%     ако $A$ е изброимо и $B \subseteq A$ е крайно, то 
%     $A \setminus B$ е изброимо.
%   \item
%     ако $A$ и $B$ са изброими, то $A \cup B$ също са изброими.
%   \item
%     $A$ е произволно безкрайно множество, а $B$ е крайно или изброимо, то
%     $\abs{A\cup B} = \abs{A}$.
%   \end{enumerate}
% \end{problem}
% \begin{proof}
%   \begin{enumerate}
%   \item 
%     Това е ясно.
%   \item
%     Нека $f:\Nat\to A$ и $g:\Nat \to B$ са сюрекции.
%     Тогава $h:\Nat \to A \cup B$ също е сюрекция, където
%     \begin{align*}
%       h(2n)   & = f(n)\\
%       h(2n+1) & = g(n).
%     \end{align*}
%   \item
%     Нека $C \subseteq A$ е изброимо безкрайно множество.
%     Тогава $C \cup B$ е изброимо безкрайно множество.
%     Получаваме, че 
%     \[A \cup B = (A\setminus C) \cup (C \cup B) \sim (A \setminus C) \cup C \sim A.\]
%   \end{enumerate}
% \end{proof}

\begin{problem}
  Докажете, че ако $g:A\rightarrow B$ е сюрекция, то $|A|\geq |B|$;
\end{problem}
\begin{proof}
  Понеже $g$ е сюрективна, то $g^{-1}(\{b\}) \neq \emptyset$, за всяко $b \in B$.
  Да отбележим също, че $b \neq b'$, то $g^{-1}(\{b\}) \cap g^{-1}(\{b'\}) = \emptyset$.
  Всяка функция $f:B\to A$, която изпълнява свойството, че $f(b) \in g^{-1}(\{b\})$,
  е инективна и следователно $|B| \leq |A|$.
\end{proof}

% \begin{problem}
%   Докажете, че множеството $^\Nat\Nat = \{f\mid f:\Nat\to\Nat\}$ е неизброимо.
% \end{problem}

% \begin{problem}
%   Докажете, че следните множества са равномощни:
%   \begin{enumerate}[a)]
%   \item
%     $\Nat$, $\Nat\times\Nat$, $\Q$, $\Z$;
%   \item
%     съвкупността от всички полиноми на една променлива с цели коефициенти;
%   \item
%     Съвкупността от всички реални алгебрични числа (т.е. корени на полиноми с цели коефициенти);
%   \item
%     $B$ е множеството от тези думи над азбуката $\{0,1\}$, които не започват с $0$, с изключение на 
%     думата $0$, т.е. $B = \{0, 1, 10, 11, 100, 101, 110, 111, \dots\}$.
%   \item
%     $F(\Nat)$ е множеството от всички крайни подмножества от естествени числа.
%   \item
%     $F(A^*)$ е множеството от всички крайни подмножества от $A^*$, за произволна азбука $A$.
%   \end{enumerate}
% \end{problem}


%\begin{framed}
В следващата задача ще видим, че е удобно, да можем да представяме 
всяко реално число в двоична бройна система.
Например,
\begin{align*}
  5.375 & = (1.2^2 + 0.2^1 + 1.2^0).(0.2^{-1} + 1.2^{-2} + 1.2^{-3} + 0.2^{-4} + 0.2^{-5} + \dots)\\
  & = (101.011)_2\\
  1 & = 0.(1.2^{-1} + 1.2^{-2} + 1.2^{-3} + 1.2^{-4} + 1.2^{-5} + \dots)\\
  & = (0.11111\dots)_2.
\end{align*}
Естествено, много реални числа ще имат безкраен запис в двоична бройна система.
Да разгледаме $\pi = 3.14159\dots$ и да видим как можем да намираме все по-добри негови 
апроксимации в двоична бройна система.
Да умножим $\pi$ по $2^3$. Получаваме число между $25$ и $26$. 
$25 = (11001)_2$ и следователно двоичният запис на $\pi$ започва с $(11.001)_2$, т.е.
преместваме двоичната точка $3$ места наляво. Да проверим дали това наистина е така.
Сега ако умножим $\pi$ по $2^6$, получаваме число между $201$ и $202$.
$201 = (11001001)_2$. Наистина, двоичният запис на $\pi$ започва с $(11.001001)_2$,
т.е. преместване двоичната точка $6$ места наляво.
% \end{framed}

% \begin{problem}
%   Множеството $\Ps(\Nat)$ е равномощно с това на затворения интервал от реални числа $[0,1]$.
% \end{problem}
% \begin{proof}
%   Ще използваме Теорема \ref{th:ksb}. За целта, първо ще докажем $|\Ps(\Nat)|\leq |[0,1]|$ и след това $|[0,1]|\leq |\Ps(\Nat)|$.
%   \begin{enumerate}[1)]
%   \item 
%     \marginpar{На практика доказваме, че $|\Ps(\Nat)| \leq |(0,1)|$}
%     Ще докажем $|\Ps(\Nat)|\leq |[0,1]|$.
%     Дефинираме $h:\Ps(\Nat)\to [0,1]$ като на всяко подмножество от естествени числа съпоставяме реално число в десетичен запис.
%     \[h(S) = 0.d_0d_1d_2\dots,\mbox{ където } d_i = 1,\mbox{ ако }i\in S\mbox{, иначе } d_i = 0.\]
%     Например,
%     \begin{enumerate}[]
%     \item
%       $h(\emptyset) = 0.0000\dots$
%     \item
%       $h(\{0\}) = 0.100000\dots$
%     \item
%       $h(\{1,2\}) = 0.011000000\dots$
%     \item
%       $h(\Nat) = 0.11111111111\dots$
%     \end{enumerate}
%     Лесно се вижда, че $h$ е инекция, следователно $|\Ps(\Nat)|\leq|[0,1]|$.
%   \item
%     Ще докажем $\abs{[0,1]} \leq \abs{\Ps(\Nat)}$.
%     Сега ще построим инекция $g:[0,1]\to\Ps(\Nat)$, като
%     за всеки елемент $b\in[0,1]$ избираме едно негово {\em двоично представяне} (може да има повече от едно)
%     $b = (0.b_0b_1b_2\dots)_2$ и дефинираме \[g(b) = \{i\in\Nat\mid b_i = 1\}.\]
%   \end{enumerate}
  
%   Ето няколко примера:
%   \begin{enumerate}[]
%   \item
%     $g(0) = g((0.00000\dots)_2) = \emptyset$.
%   \item
%     $g(1/4) = g((0.01000\dots)_2) = \{1\}$.
%   \item
%     $g(1/2) = g((0.10000\dots)_2) = \{0\}$.
%   \item
%     $g(3/4) = g((0.1100000\dots)_2) = \{0,1\}$.
%   \item
%     $g(3/8) = g((0.01100000\dots)_2) = \{1,2\}$.
%   \item
%     $g(1) = g((0.1111111\dots)_2) = \Nat$.
%   \end{enumerate}
  
%   Едно число може да има две представяния, но ние сме сигурни, че различни числа имат различни преставяния.
% \end{proof}

\begin{problem}
  Докажете, че следните множества са равномощни и следователно са {\em неизброими}.
  \begin{enumerate}[a)]
  \item
    $\Ps(\Nat) = \{A \mid A \subseteq \Nat\}$;
  \item
    $\R$;
  \item
    интервалът от реални числа $(0,1)$;
  \item
    интервалът от реални числа $[0,1]$;
  \item
    интервалът от реални числа $(a,b)$, за $a<b$.
  \item
    $^\Nat\Nat = \{f\ \mid\ f:\Nat\to\Nat\}$.
  \item
    $^\Nat2 = \{f\ \mid\ f:\Nat\to\{0,1\}\}$
  \end{enumerate}
\end{problem}
\begin{proof}
  \begin{description}
  \item[а) $\rightarrow$ б)]
    Дефинираме $h:\Ps(\Nat)\to (0,1)$ като на всяко подмножество от естествени числа съпоставяме реално число в десетичен запис.
    \[h(S) = 0.d_0d_1d_2\dots,\mbox{ където } d_i = 1,\mbox{ ако }i\in S\mbox{, иначе } d_i = 0.\]
    Например,
    \begin{enumerate}[]
    \item
      $h(\emptyset) = 0.0000\dots$
    \item
      $h(\{0\}) = 0.100000\dots$
    \item
      $h(\{1,2\}) = 0.011000000\dots$
    \item
      $h(\Nat) = 0.11111111111\dots$
    \end{enumerate}
    Лесно се вижда, че $h$ е инекция, следователно $|\Ps(\Nat)|\leq|(0,1)|$.
  \item[а)$\iff$ж)]
    Първо, да разгледаме едно множество $A \subseteq \Nat$.
    Съпоставяме на $A$ функцията $f_A:\Nat \to \{0,1\}$  по следния начин:
    \marginpar{$f_A$ се нарича характеристична функция за $A$}
    \[
    f_A(n) = 
    \begin{cases}
      1, & n \in A\\
      0, & n\not\in A.
    \end{cases}
    \]

    Обратно, на една функция $g:\Nat\to\{0,1\}$ съпоставяме множеството $B = \{n \in \Nat \mid g(n) = 1\}$.
  \item[в) $\rightarrow$ а)]
    Ще построим инекция $g:[0,1]\to\Ps(\Nat)$, като
    за всеки елемент $b\in[0,1]$ избираме едно негово {\em двоично представяне} (може да има повече от едно)
    $b = (0.b_0b_1b_2\dots)_2$ и дефинираме \[g(b) = \{i\in\Nat\mid b_i = 1\}.\]
    За определеност, ако едно реално число има повече от едно представяния, избираме това, което на най-голямо относно лексикографската наредба.
    Например, $1/2 = (0.100000\dots)_2 = (0.011111\dots)_2$.

    Ето няколко примера:
    \begin{enumerate}[]
    \item
      $g(0) = g((0.00000\dots)_2) = \emptyset$.
    \item
      $g(1/4) = g((0.01000\dots)_2) = \{1\}$.
    \item
      $g(1/2) = g((0.10000\dots)_2) = \{0\}$.
    \item
      $g(3/4) = g((0.1100000\dots)_2) = \{0,1\}$.
    \item
      $g(3/8) = g((0.01100000\dots)_2) = \{1,2\}$.
    \item
      $g(1) = g((0.1111111\dots)_2) = \Nat$.
    \end{enumerate}
    
    Едно число може да има две представяния, но ние сме сигурни, че различни числа имат различни представяния.
  \item[в)$\iff$ б)]
    Знаем, че $\tan: (-\pi/2,\pi/2) \to \Real$ е биекция.
    Освен това, $f: (0,1) \to (-\pi/2,\pi/2)$, дефинирана като
    $f(x) = \pi/2 - \pi.x$ също е биекция.
    Тогава функцията $\tan\circ f : (0,1) \to \Real$ е биекция.
  \item[в)$\iff$ д)]
    Функцията $f: (0,1) \to (a,b)$,
    дефинирана като $f(x) = a + (b-a)x$ е биекция.
  \item[е) $\iff$ в)]
    Да разгледаме една функция $f:\Nat\to\Nat$.
    На нея съпоставяме реалното число
    \[0,\underbrace{00\dots 0}_{f(0)+1}1\underbrace{00\dots 0}_{f(1)+1}1\dots\underbrace{00\dots 0}_{f(2)+1}1\dots\]
    Обратно, да разгледаме едно реално число $r\in (0,1)$
    \[r = 0, r_0r_1r_2r_3\dots\]
    На това число съпоставяме функцията $f_r:\Nat\to\Nat$ като $f_r(n) = r_n$.
  \item[б) $\rightarrow$ е)]
    Всяко реално число $r$ може да се представи като безкрайна редица от рационални числа $\{q_n\}$,
    за която $\lim_n q_n = r$.
    Понеже има биекция между рационалните и естествените числа, то на всяко реално $r$ число може да се съпостави
    функция $f_r:\Nat\to \mathbb{Q}$, за която $\lim_n f_r(n) = r$.
    Следователно, имаме сюрекция от $^\Nat\Nat$ върху $\Real$, т.е. $\abs{\Real} \leq \abs{^\Nat\Nat}$.
  \end{description}
\end{proof}

\begin{problem}
  Нека $|A_1| = |A_2|$ и $|B_1| = |B_2|$.
  Докажете, че \[\abs{\{f\mid f:A_1\to B_1\}} = \abs{\{f\mid f:A_2\to B_2\}}.\]
\end{problem}


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "discrete-math"
%%% End: 
