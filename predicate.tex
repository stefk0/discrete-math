\section{Предикати и квантори}

\subsection*{Квантори}

Свойствата или отношенията на елементите в произволно множество се наричат {\bf предикати}.
Нека да разгледаме един едноместен предикат $P(\cdot)$.

\bigskip
\begin{tabular}{|l|p{4.2cm}|p{4.5cm}|}
  \hline
  твърдение & Кога е истина? & Кога е неистина?\\
  \hline
  $\forall x P(x)$ & $P(x)$ е вярно за всяко $x$ & съществува $x$, за което $P(x)$ {\bf не} е вярно \\
  \hline
  $\exists x P(x)$ & съществува $x$, за което $P(x)$ е вярно & $P(x)$ {\bf не} е вярно за всяко $x$\\
  \hline
\end{tabular}  
\bigskip

\begin{enumerate}[(I)]
\item 
  {\bf Квантор за общност} $\forall x$.
  Записът $(\forall x \in A) P(x)$ означава, че за всеки елемент $a$ в $A$, 
  твърдението $P(a)$ има стойност истина.
  Например, $(\forall x\in\Real)[(x+1)^2 = x^2+2x+1]$.
\item
  {\bf Квантор за съществуване} $\exists x$.
  Записът $(\exists x \in A) P(x)$ означава, че съществува елемент $a$ в $A$, 
  за който твърдението $P(a)$ има стойност истина.
  Например, $(\exists x \in\mathbb{C})[x^2 = -1]$, но $(\forall x\in\Real)[x^2 \neq -1]$.
\end{enumerate}

% \begin{example}
%   \begin{itemize}
%   \item
%     За всяко естествено число, съществува по-голямо от него:
%     \[(\forall x\in\Nat)(\exists z\in\Nat)[x < z].\]
%   \item
%     Съществува естествено число, от което няма по-малко:
%     \[(\exists x\in\Nat)(\forall y\in\Nat)[x < y \vee x = y].\]
%     Нека да означим с $Zero(x)$ предиката, който казва, че $x$ е най-малкото число, т.е.
%     \[Zero(x) \equiv (\forall y)[x < y \vee x =y].\]
%   \item
%     Нека $S(x,y)$ да бъде предиката, който казва, че $y = x+1$ в естествените числа:
%     \[S(x,y) \equiv (x < y\ \wedge\ (\forall z\in\Nat)[x < z\ \rightarrow (z = y\ \vee\ y < z)].\]
%   \item
%     $One(x)$ - $x$ е числото $1$:
%     \[One(x) \equiv (\exists y)[Z(y)\ \wedge\ S(y,x)].\]
%   \item
%     $Div(x,y)$ - $x$ се дели на $y$:
%     \[Div(x,y) \equiv (\exists z)[x = y.z].\]
%   \item
%     $Prime(x)$ - $x$ е просто число:
%     \[Prime(x) \equiv x \geq 2\ \wedge\ (\forall y\in\Nat)[\neg (O(y)\ \wedge Z(y))\ \rightarrow\ \neg Div(x,y)].\]
%   \end{itemize}
% \end{example}


\subsection*{Закони на предикатното смятане}

\begin{enumerate}[(I)]
  \item
    $\neg\forall x P(x) \iff \exists x \neg P(x)$
  \item
    $\neg\exists x P(x) \iff \forall x \neg P(x)$
  \item
    $\forall x P(x) \iff \neg\exists x \neg P(x)$
  \item
    $\exists x P(x) \iff \neg\forall x \neg P(x)$
  \item
    $\forall x \forall y P(x) \iff \forall y\forall x P(x)$
  \item
    $\exists x\exists y P(x,y) \iff \exists y \exists x P(x)$  
  \item
    $\exists x\forall y P(x,y) \rightarrow \forall y \exists x P(x,y)$
\end{enumerate}

\bigskip
\begin{tabular}{|l|p{2.5cm}|p{3.2cm}|p{3cm}|}
  \hline
  \multicolumn{4}{|c|}{{\bf Закони на Де Морган за квантори}}\\
  \hline
  твърдение & Еквивалентно твърдение & Кога е истина? & Кога е неистина?\\
  \hline
  $\neg \exists x P(x)$ & $\forall x \neg P(x)$ & за всяко $x$ $P(x)$ {\bf не} е вярно & съществува $x$, за което $P(x)$ е вярно \\
  \hline
  $\neg \forall x P(x)$ & $\exists x \neg P(x)$ & съществува $x$, за което $P(x)$ {\bf не} е вярно & $P(x)$ е вярно за всяко $x$\\
  \hline
\end{tabular}  
\bigskip

% \begin{example}
%   Да разгледаме твърдението:
%   ``Всеки студент, който е записал дисциплината Дискретна математика също така е записал дисциплината Логическо програмиране''
%   \[(\forall x)[DM(x) \to LP(x)].\]
% \end{example}


\begin{problem}
  Да означим с $K(x,y)$ твърдението ``$x$ познава $y$''.
  Изразете като предикатна формула следните твърдения.
  \begin{enumerate}[1)]
  \item
    \marginpar{$\forall x \exists y K(x,y)$}
    Всеки познава някого.
  \item
    \marginpar{$\exists x \forall y K(x,y)$}
    Някой познава всеки.
  \item
    \marginpar{$\exists x\forall y K(y,x)$}
    Някой е познаван от всички.
  \item
    \marginpar{$\forall x \exists y(K(x,y)\wedge \neg K(y,x)) $}
    Всеки знае някой, който не го познава.
  \item
    \marginpar{$\exists x \forall y(K(y,x)\ \rightarrow K(x,y))$}
    Има такъв, който знае всеки, който го познава.
  \item
    \marginpar{$(\forall x,y)(K(x,y)\ \&\ K(y,x) \to \exists z(K(x,z)\ \&\ K(y,z))$}
    Всеки двама познати имат общ познат.
  \end{enumerate}
\end{problem}

\begin{problem}
  Нека $G(x)$ означава, че човекът $x$ е добър.
  \begin{enumerate}[1)]
  \item
    Изразете с формула твърдението, че всички хора са добри {\em без}
    да използвате квантора $\forall$, а само квантора $\exists$ и логическите връзки.
  \item
    Изразете с формула твърдението, че {\em поне един} човек е добър {\em без}
    да използвате квантора $\exists$, а само квантора $\forall$ и логическите връзки.
  \end{enumerate}
\end{problem}

\begin{example}
  Казваме, че редицата $(q_n)_{n\in\Nat}$ е сходяща и клони към $a$, ако
  \[(\forall \varepsilon)(\exists N)(\forall n)[n > N \implies |a - q_n| < \varepsilon].\]
  Обикновено това означаваме като $\lim_n q_n = a$.
  Да видим какво означава, че $\lim_n q_n \neq a$.
  \begin{align*}
    & \neg (\forall \varepsilon)(\exists N)(\forall n)[n > N \implies |a - q_n| < \varepsilon] \iff \\
    & \neg (\forall \varepsilon)(\exists N)(\forall n)[n \leq N \vee |a - q_n| < \varepsilon] \iff \\
    & (\exists \varepsilon) \neg (\exists N)(\forall n)[n \leq N \vee |a - q_n| < \varepsilon] \iff \\
    & (\exists \varepsilon) (\forall N) \neg (\forall n)[n \leq N \vee |a - q_n| < \varepsilon] \iff \\
    & (\exists \varepsilon) (\forall N)(\exists n)\neg[n \leq N \vee |a - q_n| < \varepsilon] \iff \\
    & (\exists \varepsilon) (\forall N)(\exists n)\neg[n \leq N \vee |a - q_n| < \varepsilon] \iff \\
    & (\exists \varepsilon) (\forall N)(\exists n)[n > N\ \wedge\ |a - q_n| \geq \varepsilon].
  \end{align*}
\end{example}


\begin{example}
  Казваме, че $f:D \to \Real$ е {\em непрекъсната} в точката $x_0 \in D$, ако 
  \[(\forall \varepsilon > 0)(\exists \delta >0)(\forall x\in D)[|x_0 - x| < \delta \implies |f(x_0) - f(x)| < \varepsilon].\]
  Да видим какво означава $f$ да бъде {\em прекъсната} в точката $x_0 \in D$:
  \marginpar{$f$ е прекъсната в $x_0$ ако $f$ не е непрекъсната в $x_0$}
  \begin{align*}
    & \neg (\forall \varepsilon > 0)(\exists \delta >0)(\forall x\in D)[|x_0 - x| < \delta \implies |f(x_0) - f(x)| < \varepsilon] \iff\\
    & (\exists \varepsilon > 0) \neg (\exists \delta >0)(\forall x\in D)[|x_0 - x| < \delta \implies |f(x_0) - f(x)| < \varepsilon] \iff \\
    & (\exists \varepsilon > 0)(\forall \delta >0)\neg(\forall x\in D)[|x_0 - x| < \delta \implies |f(x_0) - f(x)| < \varepsilon] \iff \\
    & (\exists \varepsilon > 0)(\forall \delta >0)(\exists x\in D)\neg[|x_0 - x| < \delta \implies |f(x_0) - f(x)| < \varepsilon] \iff \\
    & (\exists \varepsilon > 0)(\forall \delta >0)(\exists x\in D)\neg[\neg (|x_0 - x| <\delta) \vee |f(x_0) - f(x)| < \varepsilon] \iff \\
    & (\exists \varepsilon > 0)(\forall \delta >0)(\exists x\in D)[\neg\neg (|x_0 - x| <\delta) \land \neg (|f(x_0) - f(x)| < \varepsilon)] \iff \\
    & (\exists \varepsilon > 0)(\forall \delta >0)(\exists x\in D)[|x_0 - x| < \delta\ \land\ |f(x_0) - f(x)| \geq \varepsilon].
  \end{align*}
\end{example}

\begin{problem}
  Казваме, че $f:D \to \Real$ е {\em равномерно непрекъсната}, ако 
  \[(\forall \varepsilon > 0)(\exists \delta > 0)(\forall x\in D)(\forall y \in D)[|x-y| < \delta \implies |f(x) - f(y)| < \varepsilon].\]
  Напишете формула, която казва, че $f$ не е равномерно непрекъсната.
\end{problem}

% \begin{problem}
%   Казваме, че $f:D \to \Real$ е {\em би-Липшиц непрекъсната}, ако
%   \[(\exists K \geq 1)(\forall x\in D)(\forall y \in D)\left[\frac{|x-y|}{K} \leq |f(x)-f(y)| \leq K|x-y|\right].\]
%   Напишете формула, която казва, че $f$ не е би-Липшиц непрекъсната.
% \end{problem}


\begin{problem}
  \marginpar{(От \cite{smullyan})}
  На един остров живеели два вида обитатели - благородници и негодници.
  Благородниците винаги казвали истината, а негодниците винаги лъжели.
  Един пътешественик попаднал на този остров и искал да разбере повече за
  неговите обитатели. 
  Всеки обитател на острова му казал:
  \begin{enumerate}[a)]
  \item
    \marginpar{$\forall x(K(x) \leftrightarrow (\forall xK(x)\vee\forall x\neg K(x)))\rightarrow\ ?$}
    ``Всички тук сме от един и същ вид''.
    Какви са жителите на острова?
  \item
    \marginpar{$\forall x(K(x) \leftrightarrow (\exists xK(x)\wedge\exists x\neg K(x)))\rightarrow\ ?$}
    ``Някои от  нас са благородници и някои от нас са негодници''.
    Какви са жителите на острова?
  \end{enumerate}
\end{problem}
\begin{proof}
  Нека с $K(x)$ да означаваме, че жителят $x$ е благородник (от англ. Knight),
  и съответно с $\neg K(x)$ ще означаваме, че жителят $x$ е негодник.
  \begin{enumerate}[a)]
  \item 
    Tвърдението, което казва, че всички обитетели са от един и същ вид може да се преведе 
    на езика на предикатното смятане като:
    \[\forall x K(x) \vee \forall x \neg K(x).\]
    Тогава, понеже ако обитателят $x$ е благородник, той винаги казва истината, 
    следната формула е вярна:
    \[(\forall x)[K(x) \rightarrow (\forall x K(x) \vee \forall x \neg K(x))].\]
    Съответно ако $x$ е негодник, то той винаги казва лъжа, 
    \[(\forall x)[\neg K(x) \rightarrow \neg (\forall x K(x) \vee \forall x \neg K(x))].\]
    Така получаваме формулата
    \[(\forall x)[K(x) \iff (\forall x K(x) \vee \forall x \neg K(x))].\]
    \begin{itemize}
    \item 
      Ако има благородник на острова, то всички са благородници.
    \item
      Ако има негодник на острова, то има и благородник.
      Но щом има благородник, всички са благородници. Противоречие.
    \end{itemize}
  \item
    \begin{itemize}
    \item
      Ако има негодник на острова, то всички са негодници.
    \item
      Ако има благородник на острова, то има и негодник.
      Щом има негодник, то  всички са негодници. Противоречие.
    \end{itemize}
  \end{enumerate}
\end{proof}

\begin{problem}
  След това пътешественикът попаднал на друг остров, на който
  той силно се интересувал от това дали обитателите пушат.
  Жителите на този остров му отговорили така.
  \begin{enumerate}[a)]
  \item
    \marginpar{$\forall x(K(x) \leftrightarrow \forall y(K(y)\rightarrow S(y))) \rightarrow\ ?$}
    ``Всички благородници пушат.''
    Какви са жителите на острова и пушат ли ?
  \item
    \marginpar{$\forall x(K(x) \leftrightarrow \exists y(\neg K(y)\wedge S(y))) \rightarrow\ ?$}
    ``Някои негодници пушат.''
    Какви са жителите на острова и пушат ли ?
  \end{enumerate}
\end{problem}
\begin{solution}
  \begin{enumerate}[a)]
  \item 
    \begin{itemize}
    \item 
      Има благородник на острова. Тогава всички благородници пушат.
      Ако има също така и негодник на острова, то тогава има благородник, който не пуше.
      Това е  противоречие. Следователно, ако има поне един благородник, то всички обитатели са благородници.
    \item
      Има негодник на острова. Тогава има благородник на острова, който не пуше.
      Но тогава пък всички благородници пушат, което е противоречие.
    \end{itemize}
    Заключаваме, че всички обитателя на острова са благородни пушачи.
  \item
    Да допуснем, че има благородник на острова. Следователно има и негодник, който пуше.
    Но тогава $(\forall y)[K(y) \vee \neg S(y)]$, което означава, че
    всички негодници са непушачи. Достигнахме до противоречие.
    Следователно всички обитатели на острова са негодници, които са непушачи.
  \end{enumerate}
\end{solution}

\begin{problem}
  Пътешественикът отишъл и на трети остров, на който всички обитатели били от един и същ вид.
  \marginpar{Добавяме $\forall xK(x) \vee \forall x\neg K(x)$}
  \begin{enumerate}[a)]
  \item
    \marginpar{$\forall x(K(x) \leftrightarrow (S(x) \rightarrow \forall yS(y)))$}
    ``Ако аз пуша, то всички пушат.''
  \item
    \marginpar{$\forall x(K(x) \leftrightarrow (\exists yS(y) \rightarrow S(x)))$}
    ``Ако някой обитател на острова пуше, то и аз пуша.''
  \item
    \marginpar{$\forall x(K(x) \leftrightarrow (\exists yS(y) \wedge \neg S(x)))$}
    ``Някои пушат, но аз не.''
  \item
    \marginpar{$\forall x(K(x) \leftrightarrow \exists yS(y))\ \wedge$ $\forall x(K(x) \leftrightarrow \neg S(x))$}
    ``Някои пушат.'' и след това добавили - ``Аз не пуша.''.
  \end{enumerate}
  Какво можем да кажем за обитателите на този остров?
\end{problem}
\begin{solution}
  \begin{enumerate}[a)]
  \item
    Ако всички негодници, то $(\forall x)[S(x)\ \wedge\ \exists y\neg S(y)]$,
    което е невъзможно.
    Следователно, всички са благородници. Тогава или всички пушат или никой не пуше.
  \item
    Ако всички са негодници, то $(\forall x)[\exists y S(y)\ \wedge\ \neg S(x)]$,
    което е невъзможно. Следователно, всички са благородници.
    Тогава или всички пушат или никой не пуше.
  \item
    Ако всички са благородници, то $(\forall x)[\exists y S(y)\ \wedge \neg S(x)]$,
    което е невъзможно. Следователно, всички  са негодници.
    Тогава $(\forall x)[\forall y\neg S(y)\ \vee S(x)]$, което означава, че
    или всички пушат или никой не пуше.
  \item
    Тази ситуация е невъзможна!
  \end{enumerate}
\end{solution}


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "discrete-math"
%%% End: 
