% \chapter{Теория на множествата}

\begin{dfn}
  Множество е колекция от обекти.
  Използваме означението $x \in A$, 
  че обектът $x$ принадлежи на множеството $A$.
\end{dfn}

{\bf Празното множество} означаваме с $\emptyset$.
То има следното свойство:
\[(\forall x)[x \not \in \emptyset]\]
или еквивалентно,
\[\neg (\exists x)[x \in \emptyset].\]

\begin{example}
  Ето няколко примера за множества, които ще използваме често:
  \begin{align*}
    \Nat = & \{0,1,2,\dots\},\\
    \mathbb{Z} = & \{\dots,-2,-1,0,1,2,\dots\},\\
    \mathbb{Q} = & \{\frac{m}{n} \mid m,n \in \mathbb{Z}\ \&\ n \neq 0\}.
  \end{align*}

\end{example}


% Не му е  мястото на това тук! Да се премести.
% \section{Декартово произведение}
%   Въвеждаме операция наредена двойка $\langle{x,y}\rangle$, която искаме да има следните свойства:
%   \begin{enumerate}
%   \item
%     $\langle{x,y}\rangle = \langle{x',y'}\rangle \iff x = x' \ \&\ y = y'$;
%   \item
%     класът $A\times B = \{\langle{x,y}\rangle\ \mid\ x\in A\ \&\ x\in B\}$ е множество.
% \end{enumerate}


% \begin{dfn}[Куратовски]
%   Наредена двойка\index{наредена двойка} $\langle{x,y}\rangle = \{\{x\},\{x,y\}\}$
% \end{dfn}

% Първото свойство се проверява лесно.
% За второто свойство, достатъчно е да покажем, че за произволни множества $A,B$ можем да 
% изберем множество $C$, за което е изпълнено, че
% \[x\in A\ \&\ x\in B \rightarrow \{x,\{x,y\}\}\in C.\]
% Ако успеем да намерим такова множество $C$, то тогава от аксиомата за отделянето следва, че $A\times B$
% е множество, защото $A\times B = \{ z\in C\ \mid\ (\exists x\in A)(\exists y\in B)[z = \langle{x,y}\rangle]\}$ е множество.

% Лесно може да се провери, че $C = \Ps(\Ps(A\cup B))$ върши работа.

% Възможно е да се дадат и други дефиниции на наредена двойка.
% \begin{problem}
%   Проверете кои от следните операции отговарят на условията за наредена двойка.
%   \begin{enumerate}
%   \item
%     $\langle{x,y}\rangle_{1} = \{x,y\}$;
%   \item
%     $\langle{x,y}\rangle_{2} = \{x,\{y\}\}$;
%   \item
%     $\langle{x,y}\rangle_{3} = \{\{\emptyset,\{x\}\},\{\{y\}\}\}$;
%   \item
%     $\langle{x,y}\rangle_{4} = \{\{0,x\},\{1,y\}\}$, 
%     където $0,1$ са различни обекти.
% \end{enumerate}
% \end{problem}

% \begin{problem}
%   Проверете:
%   \begin{enumerate}
%   \item
%     $A\times B = \emptyset \iff A = \emptyset \vee B = \emptyset$
%   \item
%     $A\times(B\cup C) = (A\times B)\cup(A\times C)$
%   \item
%     $A\times(B\cap C) = (A\times B)\cap(A\times C)$ 
%   \item
%     $A\times(B\backslash C) = (A\times B)\backslash(A\times C)$
%   \item
%     $(A\cap B)\times (C\cap D) = (A\times C)\cap(B\times D)$
%   \item
%     $(A\cup B)\times (C\cup D) = (A\times C)\cup(B\times D)$
%   \item
%     $(A\backslash C)\times(B\backslash D)\subsetneq (A\times B)\backslash(C\times D)$
%   \end{enumerate}
% \end{problem}

\subsection*{Сравняване на множества}

Казваме, че едно множество $A$ {\bf се включва в} множеството $B$, което означаваме с $A \subseteq B$, 
ако всеки елемент, който принадлежи на $A$, принадлежи и на $B$, т.е.
\[(\forall x)[x \in A\ \rightarrow\ x \in B].\]
Обикновено ще казваме, че $A$ е {\bf подмножество} на $B$.
Ето няколко примера:
\begin{itemize}
\item 
  $\emptyset \subseteq A$, за всяко множество $A$.
\item
  $\{1,2\} \subseteq \{1,2,3\}$.
\item
  $\{\{\emptyset\}\} \subseteq \{\{\emptyset\},\emptyset\}$.
\item
  $\Nat \subseteq \mathbb{Z}$ и $\mathbb{Z} \subseteq \mathbb{Q}$.
\end{itemize}
Две множества $A$ и $B$ са {\bf равни}, ако
\[A = B \iff A \subseteq B\ \&\ B\subseteq A.\]

\section*{Операции върху множества}

\begin{dfn}
  Определяме следните операции върху произволни множества $A$ и $B$.
  \begin{enumerate}[{\bf (I)}]
  \item
    {\bf Сечение}
    \[A\cap B = \{x\ \mid\ x\in A\ \&\ x\in B\}.\]
    Казано малко по-формално, $A\cap B$ е множеството, за което е изпълнена формулата
    \[(\forall x)[x \in A\cap B \iff (x\in A\ \wedge\ x \in B)].\]
    Примери:
    \begin{itemize}
    \item 
      $A \cap \emptyset = \emptyset$, за всяко множество $A$.
    \item
      $\{1,2,\emptyset\} \cap \{\emptyset\} = \{\emptyset\}$.
    \item
      $\{1,2,\{1,2\}\} \cap \{1,\{1\}\} = \{1\}$.
    \end{itemize}
  \item
    {\bf Обединение}
    \[A\cup B = \{x\ \mid x\in A\ \vee\ x\in B\}.\]
    \[(\forall x)[x \in A\cup B \iff (x\in A\ \vee\ x \in B)].\]
    $A\cup B$ е множеството, за което е изпълнена формулата
    Примери:
    \begin{itemize}
    \item 
      $A \cup \emptyset = A$, за всяко множество $A$.
    \item
      $\{1,2,\emptyset\} \cup \{1,2,\{\emptyset\}\} = \{1,2,\emptyset,\{\emptyset\}\}$.
    \item
      $\{1,2,\{1,2\}\} \cup \{1,\{1\}\} = \{1,2,\{1\},\{1,2\}\}$.
    \end{itemize}
  \item
    {\bf Разлика}
    \[A\setminus B = \{x\ \mid\ x\in A\ \&\ x\not\in B\}.\]
    $A\setminus B$ е множеството, за което е изпълнена формулата
    \[(\forall x)[x \in A\setminus B \iff (x\in A\ \wedge\ x \not\in B)].\]
    Примери:
    \begin{itemize}
    \item 
      $A \setminus \emptyset = A$, за всяко множество $A$.
    \item 
      $\emptyset \setminus A = \emptyset$, за всяко множество $A$.
    \item
      $\{1,2,\emptyset\} \setminus \{1,2,\{\emptyset\}\} = \{\emptyset\}$.
    \item
      $\{1,2,\{1,2\}\} \setminus \{1,\{1\}\} = \{2,\{1,2\}\}$.
    \end{itemize}
  \item
    {\bf Симетрична разлика}
    \[A\triangle B = (A\backslash B)\cup (B\backslash A).\]
    $A\triangle B$ е множеството, за което е изпълнена формулата
    \[(\forall x)[x \in A\triangle B \iff [(x\in A\ \wedge\ x \not\in B) \vee (x \in B\ \wedge\ x\not\in A)]].\]
    Примери:
    \begin{itemize}
    \item 
      $A \triangle \emptyset = A$, за всяко множество $A$.
    \item
      $A \triangle A = \emptyset$, за всяко множество $A$.
    \item
      $A\triangle B = B \triangle A$, за всеки две множества $A$ и $B$.
    \item
      $\{1,2,\emptyset\} \triangle \{1,2,\{\emptyset\}\} = \{\emptyset\} \cup \{\{\emptyset\}\} = \{\emptyset,\{\emptyset\}\}$.
    \item
      $\{1,2,\{1,2\}\} \triangle \{1,\{1\}\} = \{2,\{1,2\}\} \cup \{\{1\}\} = \{2,\{1\},\{1,2\}\}$.
    \end{itemize}
  \item
    {\bf Степенно множество}
    \[\Ps(A) = \{x\mid x\subseteq A\}.\]
    $\Ps(A)$ е множеството, за което е изпълнена формулата
    \[(\forall x)[x \in \Ps(A) \iff (\forall y)[y\in x\rightarrow y \in A]].\]
    Примери:
    \begin{itemize}
    \item 
      $\Ps(\emptyset) = \{\emptyset\}$, $\Ps(\{\emptyset\}) = \{\emptyset,\{\emptyset\}\}$.
    \item
      $\Ps(\{\emptyset,\{\emptyset\}\}) = \{\emptyset,\{\emptyset\},\{\{\emptyset\}\},\{\emptyset,\{\emptyset\}\}\}$.
    \item
      $\Ps(\{1,2\}) = \{\emptyset,\{1\},\{2\},\{1,2\}\}$.
    \end{itemize}
  \end{enumerate}
  Нека имаме редица от множества $\{A_1,A_2,\dots,A_n\}$.
  Тогава имаме следните операции:
  \begin{enumerate}[{\bf (I)}]
  \item
    {\bf Обединение на редица от множества}
    \[\bigcup^{n}_{i=1} A_i = \{x \mid \exists i (1\leq i\leq n\ \&\ x\in A_i)\}.\]
    \[(\forall x)[x \in \bigcup^n_{i=1}A_i \iff (\exists i)[1 \leq i \leq n\ \wedge\ x \in A_i]].\]
  \item
    {\bf Сечение на редица от множества}
    \[\bigcap^{n}_{i=1} A_i = \{x \mid \forall i (1\leq i\leq n \rightarrow x\in A_i)\}.\]
    \[(\forall x)[x \in \bigcap^n_{i=1}A_i \iff (\forall i)[1 \leq i \leq n\ \rightarrow\ x \in A_i]].\]
  \end{enumerate}
\end{dfn}

% Това е много сложно!
% Тук имаме проблем с значението на $\bigcap\emptyset$.
% На пръв поглед изглежда, че $\bigcap\emptyset$ е множеството от всички множества $V$, 
% но ние знаем, че такова множество не съществува.
% Това в известен смисъл е аналог на делението на нула.
% Ние ще приемем, че $\bigcap\emptyset = \emptyset$.

\begin{example}
  Нека $A = \{x\in\N\mid x > 1\}$ и $B = \{x\in\N\mid x>3\}$. Тогава :
    \begin{enumerate}[]
    \item
      $A\cap B = \{x\in\N\mid x > 3\}$,
    \item
      $A\cup B = \{x\in\N\mid x > 1\}$,
    \item
      $A\setminus B = \{x\in\N\mid 1<x\leq 3\}$,
    \item
      $B\setminus A = \emptyset$,
    \item
      $A\triangle B = \{x\in\N\mid 1<x\leq 3\}$
    \end{enumerate}
\end{example}


\begin{problem}
  Нека $A = \{x\in\R\mid |x|\leq 1\}$ и $B = \{x\in\R\mid |x-1|\leq \frac{1}{2}\}$.
  Намерете множествата $A\cup B$, $A\cap B$, $A\setminus B$, $B\setminus A$, $A\triangle B$.
\end{problem}

% \begin{example}
%   \[\bigcap\{\{1,2,3,4\},\{2,4\},\{1,3,4\}\} = \{4\}\]
%   \[\bigcup\{\{3\},\{2,4\},\{1,4\}\} = \{1,2,3,4\}\]
%   \[\bigcap\{\{a\},\{a,b\}\} = \{a\}\cap\{a,b\} = \{a\}\]
%   \[\bigcup\bigcap\{\{a\},\{a,b\}\}  = \bigcup\{a\} = a\]
% \end{example}

% \begin{problem}
%   Нека $B = \{\{1,2\},\{2,3\}, \{1,3\}, \{\emptyset\}\}$.
%   Намерете $\bigcup{B}$, $\bigcap{B}$, $\bigcap\bigcup{B}$ и $\bigcup\bigcap{B}$.
% \end{problem}

% \begin{example}
  % Ето няколко примера, които показват действието на някои от операциите
  % \begin{enumerate}[]
%     \item
%       $\bigcup\{\emptyset\} = \emptyset$
%     \item
%       $\bigcup\{\emptyset,\{\emptyset\}\} = \{\emptyset\}$
%     \item      
%       $\bigcup\{\emptyset,\{\emptyset\},\{\{\emptyset\}\}, \{\emptyset,\{\emptyset\}\}\} = \{\emptyset,\{\emptyset\}\}$
%     \end{enumerate}
%   \item
%     $\bigcap\{\emptyset,\{\emptyset\}\} = \emptyset$
% \end{enumerate}
% \end{example}



% \begin{problem}
%   \begin{enumerate}
%   \item
%     Намерете двуелементно множество такова, че всеки елемент на множеството да е също и негово подмножество.
%   \item
%     Намерете триелементно множество такова, че всеки елемент на множеството да е също и негово подмножество.
%   \item
%     Намерете четириелементно множество такова, че всеки елемент на множеството да е също и негово подмножество.
% \end{enumerate}
% \end{problem}


% \begin{problem}
%   Докажете:
%   \begin{enumerate}
%   \item
%     $\bigcup\Ps A = A$;
%   \item
%     $A\subseteq\Ps\bigcup A$; кога имаме равенство?
%   \item
%     $\Ps A \cap \Ps B = \Ps(A\cap B)$;
%   \item
%     $\Ps A \cup \Ps B \subseteq\Ps(A\cup B)$; кога имаме равенство?
%   \item
%     съществуват множества $a$ и $B$, за които $a\in B$, но $\Ps{a}\not\subseteq\Ps{B}$;
%   \item
%     ако $a\in B$, то $\Ps{a}\in\Ps\Ps{B}$;
%   \item
%     $\{\emptyset,\{\emptyset\}\} \in \Ps\Ps{A}$, за всяко множество $A$.
%   \end{enumerate}
% \end{problem}

\begin{problem}
  Намерете $\Ps(A)$, където:
  \begin{enumerate}[a)]
  \item
    $A= \emptyset$.
  \item
    $A= \{\{1,2\}\}$.
  \item
    $A= \{\emptyset, \{\emptyset\}\}$.
  \item
    $A= \{\emptyset, \{1,2\}, 7\}$.
  \item
    $A= \{1,2,3,4\}$.
  \end{enumerate}
\end{problem}

\begin{problem}
  Проверете:
  \begin{enumerate}[a)]
  \item
    $A\subseteq B \iff A\setminus B = \emptyset \iff A\cup B = B \iff A\cap B = A$;
  \item
    $A\setminus \emptyset = A$, $\emptyset\setminus A=\emptyset$, $A\setminus B = B\setminus A$.
  \item
    $A\cap (B\cup A) = A \cap B$;
  \item
    $A\cup(B\cap C) = (A\cup B)\cap(A\cup C)$ и $A \cap (B \cup C) = (A \cup B) \cap (A \cup C)$;
  \item
    $C\subseteq A\ \&\ C\subseteq B \rightarrow C\subseteq A\cap B$;
  \item
    $A\subseteq C\ \&\ B\subseteq C \rightarrow A\cup B\subseteq C$;
  \item
    $(\bigcup^{n}_{i=1} A_i) \cap B = \bigcup^{n}_{i=1} (A_i \cap B)$;
  \item
    $(\bigcap^{n}_{i=1} A_i) \cup B = \bigcap^{n}_{i=1} (A_i \cup B)$;
  \item
    $A\backslash B = A \iff A\cap B = \emptyset$;
  \item
    $A\backslash B = A\backslash (A\cap B)$ и $A\backslash B = A\backslash (A\cup B)$;
  \item
    $(A\cup B)\setminus C = (A\setminus C) \cup (B\setminus C)$;
  \item
    $C\backslash (A\cup B) = (C\backslash A)\cap(C\backslash B)$ и $C \backslash (A\cap B) = (C\backslash A)\cup(C\backslash B)$
  \item
    $C\backslash(\bigcup^{n}_{i=1} A_i) = \bigcap^{n}_{i=1} (C\backslash A_i)$ и $C \backslash(\bigcap^{n}_{i=1} A_i) = \bigcup^{n}_{i=1} (C\backslash A_i)$;
  % \item
  %   $A\cup\bigcap B = \{A\cup X\mid X\in B\}$, за $B\neq\emptyset$
  % \item
  %   $A\cap\bigcup B = \{A\cap X\mid X\in B\}$
  \item
    $(A\backslash B)\backslash C = (A\backslash C)\backslash(B \backslash C)$ и $A\backslash (B\backslash C) = (A\backslash B) \cup (A\cap C)$;
  \item
    $A\triangle B = B\triangle A$
  \item
    $A\triangle(B\triangle C) = (A\triangle B)\triangle C$
  \item
    $A\backslash B = A\triangle(A\cap B)$
  \item
    $A\cap(B\triangle C) = (A\cup B)\triangle(A\cup C)$
  \item
    $A\cup B = (A\triangle B)\cup(A\cap B)$
  \item
    $A\triangle A = A$ и $A\triangle B = \emptyset \iff A = B$;
  \item
    $A\triangle B = C \iff B\triangle C = A \iff C\triangle A = B$;
  \item 
    $A\subseteq B \Rightarrow \Ps(A) \subseteq \Ps(B)$;
  \item
    $\Ps(A\cap B) = \Ps(A) \cap \Ps(B)$ и $\Ps(A\cup B) = \Ps(A) \cup \Ps(B)$;
  \end{enumerate}
\end{problem}

\begin{problem}
  Да се решат системите с променлива $X$:
  \begin{enumerate}[a)]
  \item
    \begin{tabular}{l c l}
      $\big|A\setminus X$ & $= $ & $ B$\\
      $\big|X\setminus A $ & $=$ & $ C$,
    \end{tabular}
    
    където са дадени множествата $A,B,C$ и $B\subseteq A$, $A\cap C = \emptyset$;
  \item
    \begin{tabular}{l c l}
      $\big|A\cap X$ & $= $ & $ B$\\
      $\big|A\cup X $ & $=$ & $ C$,
    \end{tabular}
    
    където са дадени множествата $A,B,C$ и $B\subseteq A\subseteq C$;
  \item
    \begin{tabular}{l c l}
      $\big|A\setminus X$ & $= $ & $ B$\\
      $\big|A\cup X $ & $=$ & $ C$,
    \end{tabular}

    където са дадени множествата $A,B,C$ и $B\subseteq A\subseteq C$.
  \end{enumerate}
\end{problem}

\begin{example}
  Нека съвкупността от обекти $D$ е определена като
  \[D = \{A\mid A\mbox{ е множество и } A\not\in A\}.\]
  Тогава:
  \begin{enumerate}[a)]
  \item
    Ако $D \in D$, то $D \not\in D$. Противоречие.
  \item
    Ако $D \not\in D$, то $D \in D$. Противоречие.
  \end{enumerate}
\end{example}


% \begin{problem}
%   Нека множеството $A$ е дефинирано по следния начин:
%   \begin{enumerate}
%   \item
%     $0\in A$
%   \item
%     Ако $x\in A$, то $2x+1 \in A$.
% \end{enumerate}
% Намерете $A$.
% \end{problem}
% \begin{proof}
%   $A = \{2^n - 1\ \mid n\in\N\}$.
% \end{proof}

% \begin{thm}
%   Нека множеството $A$ е дефинирано по следния начин:
%   \begin{enumerate}[(1)]
%   \item
%     $1\in A$
%   \item
%     Ако $m,n\in A$, то $2m+3n \in A$.
%   \item
%     Всички елементи на $A$ са добавени или по правило (1) или правило (2).
% \end{enumerate}
% Намерете $A$.
% \end{thm}
% \begin{proof}
%   Нека $B = \{n \mid n\equiv 1 (\mod 12)\ \vee n\equiv 5 (\mod 12) \}$.
%   Искаме да докажем, че $A = B$.
%   Първо ще докажем, че $A\subseteq B$.
%   За целта проверяваме, че $1\in B$ и ако $m,n \in B$, то $2m+3n \in B$.
  
%   За другата посока, т.е. $B\subseteq A$, трябва да докажем, че ако
%   за всяко $k\leq n$ е вярно, че $12k+1 \in B$ и $12k + 5 \in B$,
%   то е вярно, че $12(n+1)+1 \in B $ и $12(n+1) + 5 \in B$.
% \end{proof}




%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "discrete-math"
%%% End: 
